{% load static %}
<!-- Navigation-->
<nav class="navbar navbar-expand-lg navbar-light bg-light">
    <div class="container px-4 px-lg-5">
        <img src="/media/logo2.png" alt="Bootstrap" width="60" height="48">
        <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation"><span class="navbar-toggler-icon"></span></button>
        <div class="collapse navbar-collapse" id="navbarSupportedContent">
            <ul class="navbar-nav me-auto mb-2 mb-lg-0 ms-lg-4">
                <li class="nav-item"><a class="nav-link active" aria-current="page" href="{% url 'home'%}">Home</a></li>
                {# ENLACE FLANES PREMIUM (Solo si el usuario está autenticado) #}
                {% if user.is_authenticated %}
                    <li class="nav-item"><a class="nav-link" href="{% url 'home_premium' %}">Flanes Premium</a></li>
                {% endif %}
                
            </ul>

            <div class="d-flex align-items-center"> {# Usamos d-flex y align-items-center para alinear verticalmente #}
                {% if user.is_authenticated %}
                    {# Nombre de usuario con estilo de texto de navbar y margen a la derecha #}
                    <span class="navbar-text me-2">
                        {{ user.username }}
                    </span>
                    {# Aquí puedes añadir el botón del carrito si lo deseas, como en versiones anteriores #}
                    <form class="d-flex me-2">
                        <button class="btn btn-outline-dark" type="submit">
                            <i class="bi-cart-fill me-1"></i>
                            Cart
                            <span class="badge bg-dark text-white ms-1 rounded-pill">0</span>
                        </button>
                    </form>
                    {# Formulario de Salir como un elemento en línea con margen a la derecha #}
                    <form action="{% url 'logout'%}" method="post" class="d-inline-block">
                        {% csrf_token %}
                        {# Botón de Salir con estilo de enlace y sin padding #}
                        <button type="submit" class="btn btn-link nav-link p-2">Salir</button>
                    </form>
                {% else %}
                    {# Botones de INICIAR SESIÓN / REGISTRARSE #}
                    <div class="d-flex justify-content-end align-items-center gap-2"> {# Usamos gap-2 para espaciar los botones #}
                        <a href="{% url 'login'%}" class="btn btn-warning btn-lg">Iniciar Sesión</a>
                        <a href="{% url 'register'%}" class="btn btn-outline-warning btn-lg">Registrarse</a>
                    </div>
                {% endif %}
            </div>

        </div>
    </div>
</nav>
